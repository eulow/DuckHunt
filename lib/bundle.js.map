{"version":3,"sources":["webpack:///webpack/bootstrap eedcaf9b9f44faad2eb1","webpack:///./lib/board.js","webpack:///./lib/duck.js","webpack:///./lib/entry.js","webpack:///./lib/round.js","webpack:///./lib/dog.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACxDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AC/GA;;AAEA;AACA;;AAEA;AACA,EAAE;;;;;;;ACNF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAyC,MAAM;AAC/C;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,QAAQ;AAC5B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;;;;;;AC3LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eedcaf9b9f44faad2eb1","const Round = require ('./round');\n\nclass Board {\n  constructor (canvas) {\n    this.stage = new createjs.Stage(canvas);\n    this.canvas = canvas;\n    this.score = 0;\n    this.scoreContainer = new createjs.Container();\n    this.roundContainer = new createjs.Container();\n\n    this.round = 1;\n    this.createBackground();\n\n    this.renderScore = this.renderScore.bind(this);\n  }\n\n  createBackground() {\n    const background = new createjs.Bitmap('./assets/images/background.png');\n    background.scaleX = 2.5;\n    background.scaleY = 2;\n    this.stage.addChild(background);\n    this.stage.addChild(this.roundContainer)\n    new Round(this, this.round);\n  }\n\n  renderScore() {\n    this.scoreContainer.removeAllChildren();\n\n    this.stage.addChild(this.scoreContainer);\n    const score = new createjs.Text('SCORE', \"13.5px 'Press Start 2P'\", '#ffffff')\n    score.x = 530;\n    score.y = 438;\n    this.scoreContainer.addChild(score);\n\n    const number = new createjs.Text(this.score.toString(), \"14px 'Press Start 2P'\", '#ffffff')\n    number.x = 480;\n    number.y = 420;\n    this.scoreContainer.addChild(number);\n  }\n\n  addToScoreBoard() {\n    this.score += 500;\n    this.renderScore();\n  }\n\n  nextRound() {\n    this.round += 1;\n\n    this.stage.removeChild(this.roundContainer);\n    this.roundContainer = new createjs.Container();\n    this.stage.addChild(this.roundContainer);\n\n    new Round(this, this.round);\n  }\n}\n\nmodule.exports = Board;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/board.js\n// module id = 0\n// module chunks = 0","class Duck {\n  constructor (canvas, ducksContainer, id, round) {\n    this.ducksContainer = ducksContainer;\n    this.canvas = canvas;\n\n    this.duck = this.duckSprite();\n    this.duck.framerate = 5 + round;\n    this.duck.scaleX = 1.8;\n    this.duck.scaleY = 1.8;\n    this.duck.x = Math.random() * canvas.width;\n    this.duck.y = Math.random() * canvas.height - 200;\n    this.duck.velX = 3.5 + round;\n    this.duck.velY = 5 + round;\n    this.duck.duckId = id;\n    this.duck.status = 1;\n\n    const hit = new createjs.Shape();\n    hit.graphics.beginFill('#000').drawRect(-5, -5, 65, 45);\n    this.duck.hitArea = hit;\n  }\n\n  moveDuck() {\n    // makes duck face correct direction\n    if ((this.duck.velX > 0 && this.duck.scaleX < 0) || (this.duck.velX < 0 && this.duck.scaleX > 0)) {\n      this.duck.scaleX *= -1;\n    }\n\n    const randomDirection = (Math.random() > 0.5 ? 1 : -1);\n\n    switch(this.duck.status) {\n      case 1:\n        if (this.duck.x >= this.canvas.width - 60) {\n          this.duck.velX = -1 * Math.abs(this.duck.velX);\n          this.duck.velY *= randomDirection;\n          this.duck.scaleX *= -1;\n        } else if (this.duck.x <= 60) {\n          this.duck.velX = Math.abs(this.duck.velX);\n          this.duck.velY *= randomDirection;\n          this.duck.scaleX *= -1;\n        } else if (this.duck.y >= this.canvas.height - 200) {\n          this.duck.velY = -1 * Math.abs(this.duck.velY);\n          this.duck.velX *= randomDirection;\n        } else if (this.duck.y <= 0) {\n          this.duck.velY = Math.abs(this.duck.velY);\n          this.duck.velX *= randomDirection;\n        }\n        this.duck.x += this.duck.velX;\n        this.duck.y += this.duck.velY;\n        break;\n      case 0:\n        this.duck.y += 6;\n    }\n  }\n\n  // removeDuckIfOutOfScreen() {\n  //   if ((this.duck.status === 0 || this.duck.status === 2) && this.duck.y > 400) {\n  //     this.ducksContainer.children.forEach((child) => {\n  //       if (child.duckId === this.duck.duckId) {\n  //         this.ducksContainer.removeChild(child);\n  //       }\n  //     });\n  //   }\n  // }\n\n  deadDuck() {\n    this.duck.gotoAndPlay(\"shot\");\n    this.duck.status = 0;\n\n    window.setTimeout(\n      (\n        () => {\n          this.ducksContainer.children.forEach((child) => {\n            if (child.duckId === this.duck.duckId) {\n              this.ducksContainer.removeChild(child);\n            }\n          });\n        }\n      ), 4000\n    );\n  }\n\n  duckSprite() {\n    const data = {\n      images: ['./assets/images/duck_hunt.png'],\n      frames: [\n        [8, 127, 35, 34],\n        [49, 138, 35, 23],\n        [89, 138, 35, 28],\n        [137, 126, 29, 37],\n        [169, 132, 32, 31],\n        [204, 132, 25, 32],\n        [238, 135, 31, 32],\n        [280, 134, 20, 32],\n        [305, 133, 16, 33],\n        [328, 134, 20, 32],\n        [353, 134, 16, 33]\n      ],\n      animations: {\n        flyForward: [0, 2],\n        flyUp: [3, 5],\n        shot: [6, 6, 'fall'],\n        fall: [7, 10]\n      },\n      framerate: 8\n    };\n    const spriteSheet = new createjs.SpriteSheet(data);\n    return new createjs.Sprite(spriteSheet, 'flyForward');\n  }\n\n}\n\nmodule.exports = Duck;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/duck.js\n// module id = 1\n// module chunks = 0","const Board = require('./board');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById('canvas');\n\n  const board = new Board (canvas);\n });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/entry.js\n// module id = 2\n// module chunks = 0","const Duck = require('./duck');\nconst Dog = require('./dog');\n\nclass Round {\n  constructor(board, round) {\n    this.board = board;\n    this.stage = board.stage;\n    this.canvas = board.canvas;\n    this.roundContainer = board.roundContainer;\n    //\n    this.bullets = 3;\n    this.bulletsSprite = '';\n    this.ducksContainer = new createjs.Container();\n    this.ducks = {};\n    this.duckCount = 2;\n    //\n    this.dogContainer = new createjs.Container();\n\n    this.createRound(round);\n    createjs.Ticker.addEventListener('tick', this.handleTick.bind(this));\n    this.handleShot = this.handleShot.bind(this);\n    this.canvas.addEventListener('click', this.handleShot);\n    this.renderGrass = this.renderGrass.bind(this);\n    this.renderBullets = this.renderBullets.bind(this);\n    this.screenFlash = this.screenFlash.bind(this);\n    this.createDucks = this.createDucks.bind(this);\n    this.roundOver = this.roundOver.bind(this);\n  }\n\n  createRound(round) {\n    this.createDucks(round);\n    this.roundContainer.addChild(this.ducksContainer);\n    this.roundContainer.addChild(this.dogContainer);\n    this.renderGrass();\n    this.renderBullets();\n    this.board.renderScore();\n    this.renderRoundInfo(round);\n  }\n\n  renderRoundInfo(round) {\n    const score = new createjs.Text(`R=${round}`, \"14px 'Press Start 2P'\", '#93e473');\n    score.x = 68;\n    score.y = 390;\n    this.roundContainer.addChild(score);\n  }\n\n  createDucks(round) {\n    for (var id = 0; id < 2; id++) {\n      const duck = new Duck (this.canvas, this.ducksContainer, id, round);\n      duck.duck.addEventListener('click', this.shotDuck.bind(this));\n\n      this.roundContainer.addChild(duck.duck);\n      this.ducks[duck.duck.id] = duck;\n    }\n  }\n\n  roundOver() {\n    this.canvas.removeEventListener('click', this.handleShot);\n    window.setTimeout(\n      () => Dog.renderDog(this.dogContainer, this.duckCount),\n      2000\n    );\n    window.setTimeout(\n      () => this.board.nextRound(),\n      4000\n    );\n  }\n\n\n  handleTick(event) {\n    this.stage.update(event);\n    const arrayDucks = Object.keys(this.ducks).map(id => this.ducks[id]);\n\n    arrayDucks.forEach(\n      (duck) => {\n        duck.moveDuck();\n      }\n    );\n    if (this.dogContainer.children.length > 0) {\n      Dog.move(this.dogContainer.children[0]);\n    }\n  }\n\n  shotDuck(e) {\n    const duck = this.ducks[e.target.id];\n\n    if (duck.duck.status === 1 && this.bullets > 0) {\n      this.duckCount -= 1;\n      duck.deadDuck();\n      this.showScoreOnKill(e.target.x, e.target.y);\n      this.board.addToScoreBoard();\n    }\n  }\n\n  showScoreOnKill(x, y) {\n    const score = new createjs.Text('500', \"18px 'Press Start 2P'\", '#ffffff');\n    score.x = x;\n    score.y = y;\n\n    this.roundContainer.addChild(score);\n    window.setTimeout(\n      (\n        () => this.roundContainer.removeChild(score)\n      ), 500\n    );\n  }\n\n  handleShot(e) {\n    if (this.bullets > 0) {\n      const shotSound = new Audio('assets/audio/shot.mp3');\n      shotSound.currentTime = 0;\n      shotSound.play();\n      this.screenFlash();\n\n      this.bullets -= 1;\n\n      switch (this.bullets) {\n        case 2:\n        this.bulletsSprite.gotoAndPlay('two');\n        break;\n        case 1:\n        this.bulletsSprite.gotoAndPlay('one');\n        break;\n        case 0:\n        this.bulletsSprite.gotoAndPlay('zero');\n        break;\n      }\n    }\n\n    if (this.bullets === 0 || this.duckCount === 0) {\n      this.roundOver();\n    }\n  }\n\n  screenFlash() {\n    const flash = new createjs.Shape();\n\n    flash.graphics.beginFill('white').drawRect(0, 0, 640, 480);\n    flash.alpha = .9;\n    this.roundContainer.addChild(flash);\n    window.setTimeout(\n      (\n        () => this.roundContainer.removeChild(flash)\n      ), 80\n    );\n  }\n\n\n  renderGrass() {\n    const grass = new createjs.Bitmap('./assets/images/grass.png');\n    grass.scaleX = 2.5;\n    grass.scaleY = 2;\n    grass.y = 302;\n    this.roundContainer.addChild(grass);\n  }\n\n  renderBullets() {\n    const data = {\n      images: ['./assets/images/duck_hunt.png'],\n      frames: [\n        [498, 261, 0, 8],\n        [498, 261, 9, 8],\n        [498, 261, 18, 8],\n        [498, 261, 26, 8]\n      ],\n      animations: {\n        zero: 0,\n        one: 1,\n        two: 2,\n        three: 3\n      },\n      framerate: 0\n    };\n    const spriteSheet = new createjs.SpriteSheet(data);\n    const bullets = new createjs.Sprite(spriteSheet, 'three');\n\n    bullets.scaleX = 2.5;\n    bullets.scaleY = 2;\n    bullets.x = 56;\n    bullets.y = 418;\n\n    this.bulletsSprite = bullets;\n    this.roundContainer.addChild(bullets);\n  }\n}\n\n\nmodule.exports = Round;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/round.js\n// module id = 3\n// module chunks = 0","const Dog = {\n  dogSprite() {\n    const dogData = {\n      images: ['./assets/images/duck_hunt.png'],\n      frames: [\n        [6, 70, 56, 50],\n        [62, 70, 67, 48],\n        [129, 71, 43, 47],\n        [169, 70, 43, 48]\n      ],\n      animations: {\n        oneDuckLeft: 0,\n        twoDucksLeft: 1,\n        allDucks: [2, 3],\n      },\n      framerate: 6\n    };\n\n    const dogSpriteSheet = new createjs.SpriteSheet(dogData);\n    const dog = new createjs.Sprite(dogSpriteSheet);\n    dog.scaleX = 1.8;\n    dog.scaleY = 1.8;\n    dog.x = 288;\n    dog.y = 310;\n\n    return dog;\n  },\n\n  renderDog (roundContainer, ducksRemaining) {\n\n    const dog = this.dogSprite();\n    switch (ducksRemaining) {\n      case 0:\n        dog.gotoAndStop('twoDucksLeft');\n        break;\n      case 1:\n        dog.gotoAndStop('oneDuckLeft');\n        break;\n      case 2:\n        dog.gotoAndStop('allDucks');\n        break;\n    }\n    roundContainer.addChild(dog);\n\n    if (ducksRemaining === 2) {\n      const shotSound = new Audio('assets/audio/dog_laugh.mp3');\n      shotSound.currentTime = 0;\n      shotSound.play();\n    } else {\n      const shotSound = new Audio('assets/audio/round_clear.mp3');\n      shotSound.currentTime = 0;\n      shotSound.play();\n    }\n  },\n\n  move(dog) {\n    if (dog.y > 238) {\n      dog.y -= 5;\n    }\n  }\n\n};\n\nmodule.exports = Dog;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/dog.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}